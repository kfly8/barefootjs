/* CSS Cascade Layer ordering for UnoCSS + component class overrides.
 * Priority (lowest → highest): preflights < base < shortcuts < components < default
 * Base resets go into @layer base (above preflights, below component classes).
 * Component base classes go into @layer components (via layer-components: prefix).
 * User override classes stay in @layer default, so they always win. */
@layer preflights, base, shortcuts, components, default;

/* Theme transition - applied temporarily during theme switch */
html.theme-transition,
html.theme-transition *,
html.theme-transition *::before,
html.theme-transition *::after {
  transition: background-color var(--duration-fast) var(--ease-default),
              color var(--duration-fast) var(--ease-default),
              border-color var(--duration-fast) var(--ease-default),
              fill var(--duration-fast) var(--ease-default),
              stroke var(--duration-fast) var(--ease-default) !important;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Base styles (Tailwind preflight compatible) — in @layer base
 * so component classes (@layer components) can override these resets. */
@layer base {
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
    border-color: var(--border);
  }

  body {
    font-family: var(--font-sans);
    background-color: var(--background);
    color: var(--foreground);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Reset anchor browser defaults */
  a {
    color: inherit;
    text-decoration: inherit;
  }

  /* Reset list browser defaults */
  ol,
  ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  /* Reset button browser defaults */
  button {
    border-width: 0;
    border-style: solid;
    background-color: transparent;
    color: inherit;
    font: inherit;
  }

  /* Reset form element browser defaults */
  input,
  select,
  textarea {
    color: inherit;
    font: inherit;
  }

  /* Monospace code elements */
  code, kbd, samp, pre {
    font-family: var(--font-mono);
  }

  /* Smooth scroll for anchor links */
  html {
    scroll-behavior: smooth;
  }
}

/* Shiki syntax highlighting - dual theme support */
/* Light mode: use --shiki-light color */
:root span[style*="--shiki-light"] {
  color: var(--shiki-light);
}

/* Dark mode: use --shiki-dark color */
.dark span[style*="--shiki-dark"] {
  color: var(--shiki-dark);
}

/* Dialog z-index - higher than fixed header (z-50) */
.z-dialog {
  z-index: 9999;
}

/* Tooltip visibility - controlled by data attribute */
[data-tooltip-content] {
  display: none;
}
[data-tooltip-content][data-tooltip-open="true"] {
  display: block;
}


/* Ensure hidden attribute works with flexbox items */
[hidden] {
  display: none !important;
}

/* Gradient text */
.gradient-text {
  background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Card hover action - show action button only on card hover */
[data-slot="card"] [data-card-hover-action] {
  opacity: 0;
  transition: opacity 150ms ease;
}
[data-slot="card"]:hover [data-card-hover-action] {
  opacity: 1;
}
